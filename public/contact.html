<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Contact - Frozen Yogurt Shop</title>
	<link rel="stylesheet" href="css/style.css" type="text/css">
	<link rel="stylesheet" type="text/css" href="css/mobile.css">
	<script src="js/mobile.js" type="text/javascript"></script>
</head>
<body>
	<div id="page">
		<div id="header">
			<div>
				<a href="index.html" class="logo"><img src="images/logo.png" alt=""></a>
				<ul id="navigation">
					<li><a href="index.html">Home</a></li>
					<li class="menu">
						<a href="about.html">About</a>
						<ul class="primary">
							<li><a href="product.html">Product</a></li>
						</ul>
					</li>
					<li class="menu">
						<a href="blog.html">Blog</a>
						<ul class="secondary">
							<li><a href="singlepost.html">Single post</a></li>
						</ul>
					</li>
					<li class="selected"><a href="contact.html">Contact</a></li>
				</ul>
			</div>
		</div>

		<div id="body" class="contact">
			<div class="header">
				<div>
					<h1>Contact</h1>
				</div>
			</div>
			<div class="body">
				<div>
					<div>
						<img src="images/check-in.png" alt="">
						<h1>UNIT 0123 , ABC BUILDING, BUSINESS PARK</h1>
						<p>If you're having problems editing this website template, then don't hesitate to ask for help on the Forums.</p>
					</div>
				</div>
			</div>

			<div class="footer">
				<div class="contact">
					<h1>INQUIRY FORM</h1>
					<form id="contactForm">
						<input type="text" name="name" placeholder="Name" required>
						<input type="email" name="email" placeholder="Email" required>
						<input type="text" name="subject" placeholder="Subject" required>
						<textarea name="message" cols="50" rows="7" placeholder="Share your thoughts" required></textarea>
						<input type="submit" value="Send" id="submit">
					</form>
					<p id="responseMessage" style="color:green; display:none; margin-top:10px;">Message sent successfully!</p>
				</div>

				<div class="section">
					<h1>WE’D LOVE TO HEAR FROM YOU.</h1>
					<p>If you're having problems editing this website template, then don't hesitate to ask for help on the Forums.</p>
				</div>
			</div>
		</div>

		<div id="footer">
			<div>
				<div class="connect">
					<a href="http://freewebsitetemplates.com/go/facebook/" class="facebook">facebook</a>
					<a href="http://freewebsitetemplates.com/go/twitter/" class="twitter">twitter</a>
					<a href="http://freewebsitetemplates.com/go/googleplus/" class="googleplus">googleplus</a>
					<a href="http://pinterest.com/fwtemplates/" class="pinterest">pinterest</a>
				</div>
				<p>&copy; 2023 Freeeze. All Rights Reserved.</p>
			</div>
		</div>
	</div>

	<script>
		document.getElementById('contactForm').addEventListener('submit', async (e) => {
			e.preventDefault(); // empêche l'envoi classique

			const formData = {
				name: e.target.name.value,
				email: e.target.email.value,
				subject: e.target.subject.value,
				message: e.target.message.value
			};

			try {
				const response = await fetch('/contact', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify(formData)
				});

				if (response.ok) {
					document.getElementById('responseMessage').style.display = 'block';
					e.target.reset();
				} else {
					alert('Error sending message. Please try again.');
				}
			} catch (error) {
				alert('Server error. Please check your connection.');
			}
		});
	</script>

</body>
</html>
